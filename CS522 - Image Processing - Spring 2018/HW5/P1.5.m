% P1.5 %

%(a)%
UL1 = [1 -1; 1 1]
H1 = (1/sqrt(2)).*UL1
UL2 = [1 -1 0 0; 0 0 1 -1; 1 1 0 0; 0 0 1 1]
H2 = (1/sqrt(2)).*[eye(2) zeros(2); zeros(2) H1]*UL2
UL3 = [1 -1 0 0 0 0 0 0; 0 0 1 -1 0 0 0 0; 0 0 0 0 1 -1 0 0; 0 0 0 0 0 0 1 -1; 1 1 0 0 0 0 0 0; 0 0 1 1 0 0 0 0; 0 0 0 0 1 1 0 0; 0 0 0 0 0 0 1 1]
H3 = (1/sqrt(2)).*[eye(4) zeros(4); zeros(4) H2]*UL3
H3_inverse = inv(H3)

%(b)%
vec = [1 2 3 4 5 6 7 8]';
HaarTransform = H3*vec

--------------------------------------------
>> UL1 =
     1    -1
     1     1

H1 =
    0.7071   -0.7071
    0.7071    0.7071

UL2 =
     1    -1     0     0
     0     0     1    -1
     1     1     0     0
     0     0     1     1

H2 =
    0.7071   -0.7071         0         0
         0         0    0.7071   -0.7071
    0.5000    0.5000   -0.5000   -0.5000
    0.5000    0.5000    0.5000    0.5000

UL3 =
     1    -1     0     0     0     0     0     0
     0     0     1    -1     0     0     0     0
     0     0     0     0     1    -1     0     0
     0     0     0     0     0     0     1    -1
     1     1     0     0     0     0     0     0
     0     0     1     1     0     0     0     0
     0     0     0     0     1     1     0     0
     0     0     0     0     0     0     1     1

H3 =
    0.7071   -0.7071         0         0         0         0         0         0
         0         0    0.7071   -0.7071         0         0         0         0
         0         0         0         0    0.7071   -0.7071         0         0
         0         0         0         0         0         0    0.7071   -0.7071
    0.5000    0.5000   -0.5000   -0.5000         0         0         0         0
         0         0         0         0    0.5000    0.5000   -0.5000   -0.5000
    0.3536    0.3536    0.3536    0.3536   -0.3536   -0.3536   -0.3536   -0.3536
    0.3536    0.3536    0.3536    0.3536    0.3536    0.3536    0.3536    0.3536

H3_inverse =
    0.7071    0.0000    0.0000         0    0.5000    0.0000    0.3536    0.3536
   -0.7071    0.0000    0.0000         0    0.5000    0.0000    0.3536    0.3536
    0.0000    0.7071    0.0000    0.0000   -0.5000    0.0000    0.3536    0.3536
    0.0000   -0.7071    0.0000         0   -0.5000   -0.0000    0.3536    0.3536
   -0.0000    0.0000    0.7071    0.0000    0.0000    0.5000   -0.3536    0.3536
   -0.0000    0.0000   -0.7071   -0.0000    0.0000    0.5000   -0.3536    0.3536
   -0.0000    0.0000    0.0000    0.7071    0.0000   -0.5000   -0.3536    0.3536
   -0.0000    0.0000    0.0000   -0.7071    0.0000   -0.5000   -0.3536    0.3536

HaarTransform =
   -0.7071
   -0.7071
   -0.7071
   -0.7071
   -2.0000
   -2.0000
   -5.6569
   12.7279